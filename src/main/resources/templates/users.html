<!DOCTYPE html>
<html xmlns:th="http://thymeLeaf.org">
<head>

    <meta charset="ISO-8859-1">
    <title>All Users - CodeJava</title>
    <script src="../bootstrap.min.js"></script>

    <link rel="stylesheet" type="text/css" href="../bootstrap.min.css">
    <link rel="script" href="../bootstrap.min.js">

    <script type="text/javascript">
        $(document).ready(function () {
            $("#form1 #checkBoxAll").click(function () {
                var li = document.getElementsByClassName("check").checkBoxAll.checked;
                var slides = document.getElementsByClassName("chkCheckBoxId");
                for (var i = 0; i < slides.length; i++) {
                    slides.item(i).checked = li;
                }
                $("#form1 input[type = 'checkbox']").pop('checked', this.checked);
            });
        });
    </script>



</head>

<body>
<div class="container text-center">
    <div>
        <form th:action="@{/logout}" method="post">
            <p>
                Welcom <b> [[${#request.userPrincipal.principal.fullName}]]</b>
            </p>
            <input type="submit" value="Sign Out"/>
        </form>
    </div>
</div>
<div class="container text-center">
    <h1>List of All Users</h1>
</div>
<div>



<!--    <form th:action="@{/end/(object)}" th:object="${object}" action="#" >-->
<!--        <button type="submit" th:name="action" th:value="{in}" th:field="3">check-in</button>-->
<!--        <button type="submit" th:name="action" th:value="out">check-out</button>-->
<!--    </form>-->

    <form th:action="@{|/block|}" th:method="delete" th:object="${user}" id="blockForm"></form>
    <form th:action="@{|/unblock|}" th:method="delete" th:object="${user}" id="unblockForm"></form>
    <form th:action="@{|/delete|}" th:method="delete" th:object="${user}" id="deleteForm">

        <input type="submit" class="btn btn-primary" style="color:khaki" value="Delete" form="deleteForm"
               onclick="return confirm('Are you sure? DELETE')"/>
        <input type="submit" class="btn btn-primary" style="color:khaki" value="Block" form="blockForm"
               onclick="return confirm('Are you sure? BLOCK')"/>
        <input type="submit" class="btn btn-primary" style="color:khaki" value="Unblock" form="unblockForm"
               onclick="return confirm('Are you sure? UNBLOCK')"/>

        <table class="table table-striped table-bordered">
            <thead class="thead-dark">
            <tr>
                <th><input type="checkbox" class="check" id="checkBoxAll"/></th>
                <th>User Id</th>
                <th>E-mail</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Status</th>
                <th>Date</th>
                <th>Sign Up Date</th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="user: ${listUsers}">

                <td><input type="checkbox" class="chkCheckBoxId"
                           th:value="${user.id}" th:name="userId"/></td>
                <td th:text="${user.id}">User ID</td>
                <td th:text="${user.email}">E-mail</td>
                <td th:text="${user.firstName}">First Name</td>
                <td th:text="${user.lastName}">Last Name</td>
                <td th:text="${user.status}">Status</td>
                <td th:text="${user.actualDate}">Date</td>
                <td th:text="${user.singUpDate}">Sing Up Date</td>

            </tr>
            </tbody>

        </table>
    </form>
</div>

</body>

</html>